@model IEnumerable<projeto.Models.Leilao>

@{
    ViewData["Title"] = "Leilões";
    var loggedUserId = ViewData["UserId"] as int?; // Obtém o ID do usuário logado
}

<head>
    <link href="~/css/site.css" rel="stylesheet" type="text/css" />
</head>

<div class="container">
    <!-- Barra lateral fixa à esquerda -->
    <aside class="sidebar">
        <h3>Categorias</h3>
        <div class="categorias">
            <label class="checkbox-container"><span>Home & Living</span><input type="checkbox"></label>
            <label class="checkbox-container"><span>Clothing</span><input type="checkbox"></label>
        </div>

        <h3>Filtros</h3>
        <label>Time Left</label>
        <div class="filters">
            <label class="checkbox-container"><span>&lt; 1d</span><input type="checkbox"></label>
            <label class="checkbox-container"><span>&lt; 5d</span><input type="checkbox"></label>
            <label class="checkbox-container"><span>&lt; 10d</span><input type="checkbox"></label>
        </div>

        <label>Price Range</label>
        <div class="price-range">
            <input type="number" placeholder="Min"> to
            <input type="number" placeholder="Max">
        </div>

        <button class="btn-apply">Apply</button>
        <button class="btn-clear">Clear</button>

        <a asp-action="Create" class="btn-create">+</a>
    </aside>

    <!-- Lista de Leilões -->
    <div class="grid-leiloes">
        @foreach (var leilao in Model)
        {
            <div class="leilao-card" onclick="window.location.href='@Url.Action("Details", "Leilaos", new { id = leilao.LeilaoId })'">
                <img src="@leilao.Item.FotoUrl" alt="@leilao.Item.Titulo" class="img-leilao" />
                <div class="leilao-details">
                    <h5>@leilao.Item.Titulo</h5>
                    <p class="price"><strong>Current Bid:</strong> €@leilao.Item.PrecoInicial</p>
                    <p class="end-time">Ends in: @((leilao.DataFim - DateTime.Now).Days) days</p>
                </div>
            </div>
        }
    </div>
</div>
